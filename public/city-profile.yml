# A minimal Planetiler profile for a single-city game map.
# This includes all buildings and roads from a single OSM PBF source.
sources:
  osm:
    type: "osm"
    # Path to the OSM PBF file
    local_path: "data/almaty_c.pbf"

layers:
  - id: "building"
    features:
      - source: "osm"
        geometry: "polygon"
        include_when:
          building: ["yes", "commercial", "residential", "house", "apartments", "office", "retail", "industrial", "warehouse", "hospital", "school", "university", "church", "mosque", "temple", "synagogue", "chapel", "garage", "barn", "shed", "roof", "construction", "public", "service", "civic", "government", "religious", "mixed_use", "detached", "terrace", "hotel", "dormitory", "hut", "cabin", "bungalow", "static_caravan", "train_station", "transportation", "kindergarten", "clinic", "pharmacy", "bank", "restaurant", "cafe", "shop", "supermarket", "mall"]
        min_zoom: 12
        attributes:
          - key: building
          - key: height
          - key: "building:levels"
          - key: "building:colour"
          - key: name
  - id: "road"
    features:
      - source: "osm"
        geometry: "line"
        include_when:
          highway: ["motorway", "trunk", "primary", "secondary", "tertiary", "unclassified", "residential", "service", "motorway_link", "trunk_link", "primary_link", "secondary_link", "tertiary_link", "living_street", "pedestrian", "track", "bus_guideway", "escape", "raceway", "road", "footway", "bridleway", "steps", "corridor", "path", "cycleway", "busway", "bus_stop"]
        min_zoom: 10
        attributes:
          - key: highway
          - key: name
          - key: surface
          - key: oneway
          - key: lanes
          - key: maxspeed
      - source: "osm"
        geometry: "point"
        include_when:
          highway: ["traffic_signals", "crossing", "bus_stop", "give_way", "stop", "mini_roundabout", "motorway_junction", "turning_circle", "speed_camera", "street_lamp", "toll_booth", "ford", "rest_area", "services", "emergency_access_point", "passing_place", "milestone", "trailhead"]
        min_zoom: 14
        attributes:
          - key: highway
          - key: name

# Boilerplate from shortbread schema
# tilestats:
#   layers:
#     - layer: "building"
#       features:
#         - feature: "building"
#           count: 1
#     - layer: "road"
#       features:
#         - feature: "road"
#           count: 1 